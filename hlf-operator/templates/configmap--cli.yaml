apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "hlf-operator.fullname" . }}--cli
  labels:
{{- include "labels.standard" . | nindent 4 }}
data:
  TZ: {{ .Values.global.TZ | quote }}
  CHANNEL_NAME: {{ $.Values.global.channel.name }}
  FABRIC_LOGGING_SPEC: {{ $.Values.global.logging }}
  CORE_PEER_ID: {{ .Values.config.peer.id }}
  CORE_PEER_ADDRESS: {{ $.Values.config.peer.address }}
  CORE_PEER_LOCALMSPID: {{ $.Values.global.mspId }}
  CORE_PEER_TLS_ENABLED: "true"
  CORE_PEER_TLS_ROOTCERT_FILE: {{ .Values.config.peer.peerTlsCaCert }}
  ORDERER_CA: {{ .Values.global.workingDir }}/crypto-config/channel-artifacts/org0-tls-ca-cert/tlscacert.pem
  ORDERER_URL: {{ $.Values.config.orderer.address }}
  CORE_PEER_MSPCONFIGPATH:  {{ .Values.global.workingDir }}/crypto-config/{{ .Values.global.mspId }}/admin/msp
  FABRIC_CFG_PATH: /etc/hyperledger
  BIN: /var/hyperledger/bin
  GODEBUG: "netdns=go"
  connection.json: |
    {
      "address": "eventstore-hlf-cc:7052",
      "dial_timeout": "10s",
      "tls_required": false,
      "client_auth_required": false,
      "client_key": "-----BEGIN EC PRIVATE KEY----- ... -----END EC PRIVATE KEY-----",
      "client_cert": "-----BEGIN CERTIFICATE----- ... -----END CERTIFICATE-----",
      "root_cert": "-----BEGIN CERTIFICATE---- ... -----END CERTIFICATE-----"
    }
  metadata.json: |
    {"path":"","type":"external","label":"eventstorev1"}
